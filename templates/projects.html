{% extends "base.html" %}
{% block content %}
<div class="projects-header">
    <div class="projects-stats">
        <div class="stat-card"><div class="stat-value">{{ projects | length }}</div><div class="stat-label">Proyectos</div></div>
        <div class="stat-card"><div class="stat-value">{{ projects | selectattr('has_git') | list | length }}</div><div class="stat-label">Con Git</div></div>
        <div class="stat-card"><div class="stat-value">{{ projects | selectattr('has_readme') | list | length }}</div><div class="stat-label">Con README</div></div>
    </div>
</div>
<div class="projects-grid">
    {% for project in projects %}
    <div class="project-card">
        <div class="project-card-header">
            <div class="project-icon-lg">{% if project.has_git %}ğŸ”€{% else %}ğŸ“‚{% endif %}</div>
            <div class="project-actions"><button class="btn-icon" onclick="openProject('{{ project.path }}')" title="Abrir">ğŸ“‚</button></div>
        </div>
        <h3 class="project-card-title">{{ project.name }}</h3>
        <div class="project-tags">
            {% if project.has_git %}<span class="tag tag-git">Git</span>{% endif %}
            {% if project.has_readme %}<span class="tag tag-docs">Docs</span>{% endif %}
            {% if project.has_requirements %}<span class="tag tag-python">Python</span>{% endif %}
            {% if project.has_package_json %}<span class="tag tag-js">Node.js</span>{% endif %}
        </div>
        <div class="project-meta-list">
            <div class="meta-item"><span class="meta-icon">ğŸ“„</span><span class="meta-text">{{ project.file_count }} archivos</span></div>
            <div class="meta-item"><span class="meta-icon">ğŸ•</span><span class="meta-text">{% if project.last_modified %}{{ project.last_modified[:10] }}{% else %}-{% endif %}</span></div>
        </div>
        <div class="project-card-footer"><code class="project-path">~/clawd/proyectos/{{ project.name }}</code></div>
    </div>
    {% else %}
    <div class="empty-state-lg"><div class="empty-icon">ğŸ“‚</div><h3>No hay proyectos</h3></div>
    {% endfor %}
</div>
{% endblock %}
